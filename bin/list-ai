#!/usr/bin/perl
# vim: ts=2 sw=2 ft=perl
eval 'exec perl -x -wS $0 ${1+"$@"}'
  if 0;
$|++;
use FindBin qw($Bin);
open(STDERR,"|cat >&2");
open(STDOUT,">&STDERR");
BEGIN {
  for(map { "$_" } $Bin) {
    s{/s?bin$}{};
    $FindBin::prefix="$_";
  };    
};
BEGIN {
  use lib $FindBin::prefix."/lib";
};
use common::sense;
use AI::Util;
use autodie;
use Snatcher;
our(@VERSION) = qw( 0 1 0 );
use Getopt::WonderBra;
use AI::Config qw(get_api_mod get_api_ua get_api_url);

die "Session not configured" unless exists(&get_api_ua);

@ARGV = getopt("mdc:f:e",@ARGV);
my ($delete,$text,$mock) = 0;
my ($edit,$prompt_file,$conv) = ( 1 );
sub help {
  say "usage; $0 [ -f \$prompt_file ] [ -e ]";
};

sub version {
  say "@VERSION";
};
my $conv_dir;
while(($_=shift)ne'--'){
  if(1){
    die "bad arg: $_";
  };
};
my ($ua)=get_api_ua;
ddx( $ua->get(get_api_url) );
